# YOLO model configuration
model_path: "models/yolo/yolov8n_RearView.pt"

# Inference settings
img_size: 640
conf_thres: 0.60        # detection confidence threshold for YOLO (increased further for accuracy)
min_confidence: 0.70    # additional filter applied after detection (increased to reduce false positives)
iou_thres: 0.45         # NMS IOU threshold (reduced for better duplicate suppression)

# Classes (in order matching your YOLO training)
classes:
  - car
  - truck
  - bus
  - motorcycle
  - other

# Use fallback motion-based detector if YOLO model missing: TRUE/FALSE
allow_fallback_detector: true

# Post-filtering to suppress spurious boxes/noise
min_bbox_area: 2500         # pixels^2; discard tiny blobs/noise (increased)
max_bbox_area: 300000       # guard against blown-up boxes (reduced)
min_aspect_ratio: 0.3       # w/h lower bound (tall skinny noise) - stricter
max_aspect_ratio: 3.5       # w/h upper bound (long streaks) - stricter
border_padding: 10          # ignore detections hugging the frame border (increased)
motion_min_area: 1200       # min area (pixels) for fallback motion detector (increased)
motion_morph_kernel: 5      # kernel size for morphological filtering fallback

# Which detection classes should the pipeline pay attention to?
# The detector/model may need to include these classes. If a class is not
# present in your YOLO model, detections for it will not appear.
allowed_detection_classes:
  # Vehicles
  - car
  - truck
  - bus
  - motorcycle
  - bicycle
  - train
  
  # Pedestrians & Animals
  - person
  - dog
  - cat
  - horse
  - cow
  - sheep
  - bird
  - elephant
  - bear
  - zebra
  - giraffe
  
  # Road Infrastructure & Signs (REMOVED: traffic_light, stop_sign, fire_hydrant, parking_meter)
  # Only detect vehicles, pedestrians, and animals for rear-view ADAS
  
  # Add any custom classes if you retrain:
  # - pothole
  # - speed_breaker
  # - road_work
  # - pedestrian_crossing
  # - animal_crossing
  # - sharp_turn
  # - school_zone
  # - yield_sign
  # - no_entry
  
  # To use custom classes:
  # 1. Train model using: python train_custom_model.py
  # 2. Update model_path above to: runs/detect/custom_adas/weights/best.pt
  # 3. Uncomment the custom classes you trained
  # 4. Add them to CLASS_HEIGHTS and SEGMENTATION_COLORS in src/pipeline.py

# Segmentation-style overlay (fills detections/lanes with colors)
enable_segmentation_overlay: true
segmentation_alpha: 0.35
